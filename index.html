<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Accessible Forms Demo</title>
  <link rel="stylesheet" href="style.css">
</head>

<body>
  <h1>Accessible Forms Demo</h1>
  <form action="#" method="POST" autocomplete="on">
    <fieldset>
      <legend>Your Information</legend>
      <div class="form-group">
        <label for="name">Name:</label>
        <input type="text" id="name" name="name" required aria-required="true" title="Enter your full name">
      </div>
      <div class="form-group">
        <label for="email">Email:</label>
        <input type="email" id="email" name="email" required aria-required="true" title="Enter a valid email address">
        <span id="email-error" role="alert" style="color: red;"></span>
      </div>
    </fieldset>
    <fieldset>
      <legend>RSVP Details</legend>
      <div class="form-group">
        <label for="guests">Number of Guests:</label>
        <input type="number" name="guests" id="guests" min="0" required aria-required="true" title="Enter the number of guests attending (including yourself)">
      </div>
      <div class="form-group">
        <label for="comments">Comments (Optional):</label>
        <textarea name="comments" id="comments" title="Any additional comments or special requests"></textarea>
      </div>
    </fieldset>
    <button type="submit">RSVP</button>
  </form>

  <script>
    const emailInput = document.getElementById("email");
    const emailError = document.getElementById("email-error");

    // Function to validate email format
    function validateEmail() {
      const email = emailInput.value;
      const emailPattern = /^[a-zA-Z0-9._-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,4}$/;

      if (!emailPattern.test(email)) {
        emailError.textContent = "Invalid email format";
        emailInput.setAttribute("aria-invalid", "true");
      } else {
        emailError.textContent = "";
        emailInput.removeAttribute("aria-invalid");
      }
    }

    emailInput.addEventListener("input", validateEmail);
  </script>
</body>

</html>